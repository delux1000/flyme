<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Connect to My RPC</title>
    <style>
        body { font-family: Arial, sans-serif; max-width: 600px; margin: 40px auto; padding: 20px; background: #f5f5f5; }
        .rpc-url { background: #e0e0e0; padding: 10px; border-radius: 5px; word-break: break-all; }
        button { background: #3b99fc; color: white; border: none; padding: 12px 24px; border-radius: 6px; font-size: 16px; cursor: pointer; }
        #status { margin-top: 20px; padding: 10px; background: #fff3cd; border-radius: 5px; display: none; }
    </style>
</head>
<body>
    <h1>üöÄ Connect to My Local RPC</h1>
    <p>Your RPC endpoint:</p>
    <div class="rpc-url" id="rpcUrl">https://vegetation-workplace-experienced-illustrations.trycloudflare.com</div>

    <button id="connectBtn">Connect Wallet via WalletConnect</button>
    <div id="status"></div>
    <div id="result"></div>

    <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.umd.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <script>
        const rpcUrl = document.getElementById('rpcUrl').innerText;

        document.getElementById('connectBtn').addEventListener('click', async () => {
            const statusDiv = document.getElementById('status');
            const resultDiv = document.getElementById('result');
            statusDiv.style.display = 'block';
            statusDiv.innerText = 'Connecting...';

            try {
                const walletConnectProvider = new WalletConnectProvider.default({
                    rpc: { 1: rpcUrl },
                    chainId: 1
                });

                await walletConnectProvider.enable();
                const provider = new ethers.providers.Web3Provider(walletConnectProvider);
                const signer = provider.getSigner();
                const address = await signer.getAddress();
                const balance = await provider.getBalance(address);

                statusDiv.style.display = 'none';
                resultDiv.innerText = `‚úÖ Connected: ${address}\nüí∞ ETH: ${ethers.utils.formatEther(balance)} ETH`;
            } catch (err) {
                statusDiv.innerText = `‚ùå Error: ${err.message}`;
            }
        });
    </script>
</body>
</html>
